
<div>
    <h2><%=@sender.email %> contacting <%=@receiver.email%></h2>
    <%= turbo_stream_from "messages" %>
      <div id="messages">
        <%= render @messages %>
      </div>
    
    <%= form_tag messages_path, data: { controller: "reset-form", action: "turbo:submit-end->reset-form#reset" }  do %>
        <div>
            <%= text_field_tag :message, nil ,  placeholder: 'Type message here...', class: 'form-control' %>
            <%= hidden_field_tag "receiver_id", @receiver.id %>
            <%= hidden_field_tag "sender_id", @sender.id %>
            <%= hidden_field_tag "chat_id", @chat_id %>
            <%= submit_tag "Send", data: { disable_with: false } %>
        </div>
    <% end %>
</div>
